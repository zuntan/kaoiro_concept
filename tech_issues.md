# 技術課題の洗い出し (tech_issues.md)

## 1. Rustでの顔認識とプライバシー保護
- **OpenCVのビルド**: `opencv` クレートの依存関係解決と静的リンク。
- **リアルタイム画像処理**: ぼかし処理などの画像加工を毎フレーム行う際のCPU負荷。
    - **対策**: 解像度を落として処理する、あるいは簡単な塗りつぶし（マスク）から始める。

## 2. デバイス切り替えの挙動
- **ホットプラグ対応**: アプリ起動中にUSBカメラを抜き差しした際の挙動。
    - **対策**: `nokhwa` などのカメラライブラリが持つデバイス監視機能、あるいは定期的な再スキャンを検討する。

## 3. GUI描画パフォーマンス
- **画像転送コスト**: 加工済み画像をGPUテクスチャへ転送するオーバーヘッド。
    - **対策**: `egui` の `ColorImage` を効率的に使い回す。

## 4. WASM対応の制約
- **機能差異**: WASM版では `opencv` や `enigo` が使えない。
    - **対策**: `cfg(target_arch = "wasm32")` を活用し、WASMビルド時はWebカメラAPIとダミーの入力モジュールに切り替える条件コンパイルを徹底する。

## 5. 音声認識の多言語対応 (Voice UI)
- **Web Speech API (WEB版)**:
    - ブラウザの実装依存であり、言語設定 (`lang` 属性) を動的に切り替える必要がある。
    - 非標準語彙（スラングや方言）の認識精度にばらつきがあるため、カスタムエイリアス（類義語マッチング）の実装が必須。
- **Native音声認識 (デスクトップ版)**:
    - RustからOS標準の音声認識API（Windows SAPI, macOS Speech）を叩くか、`Vosk` 等のオフラインモデルを組み込むかの選定が必要。
    - **対策**: 初期は `Vosk` (軽量モデル) を検討し、オフライン動作と言語パック切り替えの両立を目指す。